{% extends "layout.html" %}
{% set title = "AgroVision Nepal | Dashboard" %}

{% block content %}

<!-- Header -->
<div class="d-flex flex-wrap align-items-center justify-content-between gap-2 mb-4">
  <div>
    <h2 class="fw-bold mb-0">Dashboard</h2>
    <div class="text-muted small">
      Welcome back, {{ user }} ğŸ‘‹
    </div>
  </div>

  <div class="d-flex gap-2">
    <a class="btn btn-outline-light btn-sm" href="{{ url_for('logout') }}">Logout</a>
  </div>
</div>

<!-- Description -->
<div class="card card-agro shadow-sm mb-4">
  <div class="card-body">
    <h5 class="fw-bold mb-2">AgroVision Nepal</h5>
    <p class="text-muted small mb-0">
      AgroVision Nepal is an AI-powered agriculture simulator that identifies crops from images,
      evaluates soil and live weather conditions, and generates intelligent growth recommendations
      tailored for Nepalâ€™s farming regions.
    </p>
  </div>
</div>

<!-- Feature Cards -->
<div class="row g-4">

  <!-- AI Crop Identifier -->
  <div class="col-md-6 col-lg-3">
    <div class="card card-agro h-100 shadow-sm">
      <div class="card-body d-flex flex-column">
        <div class="d-flex align-items-center gap-2 mb-2">
          <div class="icon-badge">ğŸ“·</div>
          <div class="fw-semibold">AI Crop Identifier</div>
        </div>

        <p class="text-muted small mb-3">
          Upload a crop image and let AI analyze leaf texture, color spectrum,
          and structure to identify the crop with confidence.
        </p>

        <div class="mt-auto d-grid">
          <a class="btn btn-success btn-sm" href="{{ url_for('upload_page') }}">
            Analyze Crop â†’
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Growth Simulator -->
  <div class="col-md-6 col-lg-3">
    <div class="card card-agro h-100 shadow-sm">
      <div class="card-body d-flex flex-column">
        <div class="d-flex align-items-center gap-2 mb-2">
          <div class="icon-badge">ğŸ“ˆ</div>
          <div class="fw-semibold">Growth Simulator</div>
        </div>

        <p class="text-muted small mb-3">
          View growth duration, optimal temperature, rainfall needs, soil suitability,
          and NPK nutrient requirements with an animated timeline.
        </p>

        <div class="mt-auto d-grid">
          <a class="btn btn-success btn-sm" href="{{ url_for('upload_page') }}">
            Start Simulation â†’
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Weather Suitability -->
  <div class="col-md-6 col-lg-3">
    <div class="card card-agro h-100 shadow-sm">
      <div class="card-body d-flex flex-column">
        <div class="d-flex align-items-center gap-2 mb-2">
          <div class="icon-badge">ğŸŒ¦ï¸</div>
          <div class="fw-semibold">Weather Suitability</div>
        </div>

        <p class="text-muted small mb-3">
          Compare real-time Nepal weather (OpenWeather) with crop requirements and generate
          a 0â€“100 suitability score with a clear risk indicator.
        </p>

        <div class="mt-auto d-grid">
          <a class="btn btn-success btn-sm" href="{{ url_for('upload_page') }}">
            Check Weather â†’
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Fund Simulation -->
  <div class="col-md-6 col-lg-3">
    <div class="card card-agro h-100 shadow-sm">
      <div class="card-body d-flex flex-column">
        <div class="d-flex align-items-center gap-2 mb-2">
          <div class="icon-badge">ğŸ’°</div>
          <div class="fw-semibold">Fund Simulation</div>
        </div>

        <p class="text-muted small mb-3">
          Create farming campaigns, simulate funding progress, and estimate risk/trust
          using simple AI text scanning.
        </p>

        <div class="mt-auto d-grid">
          <a class="btn btn-success btn-sm" href="{{ url_for('fund_page') }}">
            Open Fund Hub â†’
          </a>
        </div>
      </div>
    </div>
  </div>

</div>

{% endblock %}
